[{"E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\index.js":"1","E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\reportWebVitals.js":"2","E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\App.js":"3","E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\components\\views\\Dashboard.js":"4","E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\components\\Navbar.js":"5","E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\components\\views\\MainMenu.js":"6"},{"size":500,"mtime":499162500000,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"8"},{"size":562,"mtime":1607759962728,"results":"10","hashOfConfig":"8"},{"size":5058,"mtime":1607763263014,"results":"11","hashOfConfig":"8"},{"size":600,"mtime":1607759325839,"results":"12","hashOfConfig":"8"},{"size":2128,"mtime":1607757591939,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1ri4u7o",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\index.js",[],["28","29"],"E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\reportWebVitals.js",[],"E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\App.js",[],"E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\components\\views\\Dashboard.js",["30"],"import Axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nexport const Dashboard = (props) => {\r\n    const [kitchen, setKitchen] = useState(null);\r\n    const [lastQue, setLastQue] = useState(0);\r\n\r\n    useEffect(() => {\r\n        console.log(\"dashboard\");\r\n        console.log(props.kitchenId);\r\n        Axios.get(`http://localhost:8000/kitchen/${props.kitchenId}`)\r\n            .then((resp) => {\r\n                console.log(resp);\r\n                setKitchen(resp.data.data);\r\n                const que =\r\n                    resp.data.data.kitchenOrders[\r\n                        resp.data.data.kitchenOrders.length - 1\r\n                    ].que;\r\n\r\n                console.log(\"*\" * 20);\r\n                console.log(que);\r\n                if (que > 0) {\r\n                    setLastQue(que);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [lastQue]);\r\n\r\n    const addOrder = (e) => {\r\n        e.preventDefault();\r\n        console.log(kitchen._id);\r\n\r\n        Axios.post(`http://localhost:8000/order/new`, {\r\n            que: lastQue + 1,\r\n            kitchenId: kitchen._id,\r\n            order: e.target.order.value,\r\n            notes: e.target.notes.value,\r\n        })\r\n            .then(() => {\r\n                console.log(\"success\");\r\n                const newQue = parseInt(lastQue) + 1;\r\n                setLastQue(newQue);\r\n                console.log(lastQue);\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"err\");\r\n            });\r\n    };\r\n\r\n    const deleteOrder = (orderId) => {\r\n        console.log(orderId);\r\n        Axios.delete(`http://localhost:8000/order/${orderId}/delete`)\r\n            .then((resp) => {\r\n                console.log(resp);\r\n                const que = lastQue;\r\n                setLastQue(que);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            {kitchen != null ? (\r\n                <div>\r\n                    <h1>{kitchen.kitchenName}</h1>\r\n                    <div className=\"row justify-evenly\">\r\n                        <div className=\"OrdersInQue\">\r\n                            <table>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Que Number</th>\r\n                                        <th>Order</th>\r\n                                        <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {kitchen.kitchenOrders.map((order, k) => (\r\n                                        <tr key={k}>\r\n                                            <td>{order.que}</td>\r\n                                            <td>{order.order}</td>\r\n                                            <td>\r\n                                                <span\r\n                                                    onClick={() =>\r\n                                                        deleteOrder(order._id)\r\n                                                    }\r\n                                                >\r\n                                                    Delete\r\n                                                </span>{\" \"}\r\n                                                | <span>Change Status</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <div className=\"addOrderBox\">\r\n                            <h3>Add Order</h3>\r\n                            <form onSubmit={addOrder}>\r\n                                <section>\r\n                                    <label htmlFor=\"order\">Order:</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"order\"\r\n                                        id=\"order\"\r\n                                    />\r\n                                </section>\r\n                                <section>\r\n                                    <label htmlFor=\"notes\">Notes:</label>\r\n                                    <textarea\r\n                                        name=\"notes\"\r\n                                        id=\"notes\"\r\n                                        cols=\"30\"\r\n                                        rows=\"10\"\r\n                                    ></textarea>\r\n                                </section>\r\n                                <button>Submit</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <p>Loading...</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\components\\Navbar.js",[],"E:\\Coding\\Jobs\\klaxon-kitchen\\client\\src\\components\\views\\MainMenu.js",[],{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","severity":1,"message":"36","line":29,"column":8,"nodeType":"37","endLine":29,"endColumn":17,"suggestions":"38"},"no-native-reassign",["39"],"no-negated-in-lhs",["40"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.kitchenId'. Either include it or remove the dependency array.","ArrayExpression",["41"],"no-global-assign","no-unsafe-negation",{"desc":"42","fix":"43"},"Update the dependencies array to be: [lastQue, props.kitchenId]",{"range":"44","text":"45"},[948,957],"[lastQue, props.kitchenId]"]